async function translateSentencesBatch(sentences, targetLang = "pt-BR") {
  if (sentences.length === 0) return [];
  
  console.log(`ğŸ” Vertaal ${sentences.length} zinnen naar ${targetLang}`);
  
  try {
    const url = `/api/translate?sentences=${encodeURIComponent(JSON.stringify(sentences))}&target=${targetLang}`;
    console.log(`ğŸ“¤ API call: ${sentences.length} zinnen`);
    
    const response = await fetch(url);
    
    if (!response.ok) {
      console.error(`âŒ API error: ${response.status}`);
      return sentences;
    }
    
    const data = await response.json();
    console.log('ğŸ“¥ API response:', data);
    
    // EXTRA DEBUG: Log de volledige response
    console.log('ğŸ” Full API response structure:', JSON.stringify(data).substring(0, 500));
    
    // VERSCHILLENDE RESPONSE FORMATEN
    let translations = [];
    
    if (data.translations && Array.isArray(data.translations)) {
      translations = data.translations;
      console.log(`âœ… Vertalingen gevonden: ${translations.length}`);
    } 
    else if (Array.isArray(data)) {
      translations = data;
      console.log(`âœ… Direct array: ${translations.length} items`);
    }
    else if (data.text) {
      translations = [data.text];
      console.log(`âœ… Single text: "${data.text.substring(0, 50)}..."`);
    }
    else {
      console.error('âŒ Onbekend response format:', data);
      return sentences;
    }
    
    // VALIDATIE
    if (translations.length > 0) {
      const firstTrans = translations[0] || '';
      const firstOrig = sentences[0] || '';
      
      console.log(`ğŸ” Eerste origineel: "${firstOrig.substring(0, 50)}..."`);
      console.log(`ğŸ” Eerste vertaling: "${firstTrans.substring(0, 50)}..."`);
      
      // Check of het Portugees is
      const portugueseChars = firstTrans.match(/[Ã¡Ã Ã¢Ã£Ã©Ã¨ÃªÃ­Ã¬Ã®Ã³Ã²Ã´ÃµÃºÃ¹Ã»Ã§Ã±]/gi);
      console.log(`ğŸ” Portugese karakters gevonden: ${portugueseChars ? portugueseChars.length : 0}`);
      
      if (firstTrans === firstOrig) {
        console.warn('âš ï¸ WAARSCHUWING: Vertaling gelijk aan origineel!');
      }
    }
    
    return translations;
    
  } catch (error) {
    console.error('âŒ Vertaling mislukt:', error);
    return sentences;
  }
}
